<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Amazon Product Analysis &amp; Sentiment Pipeline</title>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: #0f0f1a; color: #e0e0e0; }

  /* Hero */
  .hero {
    background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
    padding: 60px 40px;
    text-align: center;
    position: relative;
    overflow: hidden;
  }
  .hero::before {
    content: '';
    position: absolute;
    top: -50%; left: -50%;
    width: 200%; height: 200%;
    background: radial-gradient(circle at 30% 50%, rgba(255,153,0,0.08) 0%, transparent 50%),
                radial-gradient(circle at 70% 50%, rgba(0,168,255,0.08) 0%, transparent 50%);
    animation: pulse 8s ease-in-out infinite;
  }
  @keyframes pulse { 0%,100%{opacity:0.5} 50%{opacity:1} }
  .hero h1 { font-size: 2.8rem; color: #ff9900; position: relative; z-index: 1; }
  .hero p { font-size: 1.15rem; color: #a0b4c8; margin-top: 12px; position: relative; z-index: 1; max-width: 700px; margin-left: auto; margin-right: auto; line-height: 1.6; }
  .hero .badge { display: inline-block; background: rgba(255,153,0,0.15); border: 1px solid #ff9900; color: #ff9900; padding: 6px 18px; border-radius: 20px; font-size: 0.85rem; margin-top: 18px; position: relative; z-index: 1; }

  /* Nav Tabs */
  .tab-bar {
    display: flex; justify-content: center; gap: 8px; padding: 20px 20px 0;
    background: #12121f; border-bottom: 1px solid #2a2a40; flex-wrap: wrap;
  }
  .tab-btn {
    padding: 10px 22px; border: none; background: transparent; color: #8899aa;
    font-size: 0.95rem; cursor: pointer; border-bottom: 3px solid transparent;
    transition: all 0.3s; border-radius: 6px 6px 0 0;
  }
  .tab-btn:hover { color: #fff; background: rgba(255,153,0,0.08); }
  .tab-btn.active { color: #ff9900; border-bottom-color: #ff9900; background: rgba(255,153,0,0.1); }

  /* Sections */
  .section { display: none; padding: 40px; max-width: 1200px; margin: 0 auto; }
  .section.active { display: block; }
  .section h2 { color: #ff9900; font-size: 1.8rem; margin-bottom: 24px; text-align: center; }
  .section h3 { color: #00a8ff; font-size: 1.3rem; margin: 20px 0 10px; }

  /* Overview Cards */
  .overview-grid {
    display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 20px; margin-top: 30px;
  }
  .overview-card {
    background: linear-gradient(135deg, #1a1a30, #1e2040);
    border: 1px solid #2a2a50; border-radius: 14px;
    padding: 28px; transition: transform 0.3s, box-shadow 0.3s;
  }
  .overview-card:hover { transform: translateY(-4px); box-shadow: 0 8px 30px rgba(255,153,0,0.15); }
  .overview-card .icon { font-size: 2.5rem; margin-bottom: 12px; }
  .overview-card h4 { color: #ff9900; margin-bottom: 8px; font-size: 1.1rem; }
  .overview-card p { color: #99aabb; font-size: 0.92rem; line-height: 1.6; }
  .overview-card .tech { display: flex; flex-wrap: wrap; gap: 6px; margin-top: 12px; }
  .overview-card .tech span {
    background: rgba(0,168,255,0.12); color: #00a8ff; padding: 3px 10px;
    border-radius: 12px; font-size: 0.78rem;
  }

  /* Workflow */
  .workflow-container { position: relative; padding: 20px 0; }
  .workflow-step {
    display: flex; align-items: flex-start; gap: 24px; margin-bottom: 12px;
    position: relative;
  }
  .workflow-step .step-num {
    min-width: 56px; height: 56px; border-radius: 50%;
    background: linear-gradient(135deg, #ff9900, #e88600);
    display: flex; align-items: center; justify-content: center;
    font-size: 1.4rem; font-weight: bold; color: #1a1a2e;
    position: relative; z-index: 2;
  }
  .workflow-step .step-content {
    background: #1a1a30; border: 1px solid #2a2a50; border-radius: 12px;
    padding: 20px 24px; flex: 1;
  }
  .workflow-step .step-content h4 { color: #ff9900; margin-bottom: 6px; }
  .workflow-step .step-content p { color: #99aabb; font-size: 0.9rem; line-height: 1.5; }
  .step-connector {
    width: 3px; height: 40px; background: linear-gradient(to bottom, #ff9900, #ff990040);
    margin-left: 27px; margin-bottom: 0;
  }
  .step-file {
    display: inline-block; background: rgba(0,200,100,0.12); color: #00c864;
    padding: 2px 10px; border-radius: 8px; font-size: 0.82rem; font-family: monospace;
    margin-top: 8px;
  }
  .step-output {
    display: inline-block; background: rgba(200,100,255,0.12); color: #c864ff;
    padding: 2px 10px; border-radius: 8px; font-size: 0.82rem; font-family: monospace;
    margin-top: 4px; margin-left: 4px;
  }

  /* Data Flow Diagram */
  .flow-diagram {
    background: #12121f; border: 1px solid #2a2a50; border-radius: 16px;
    padding: 40px; margin-top: 30px; overflow-x: auto;
  }
  .flow-row {
    display: flex; align-items: center; justify-content: center;
    gap: 0; flex-wrap: nowrap; margin-bottom: 16px;
  }
  .flow-box {
    background: linear-gradient(135deg, #1e2040, #252560);
    border: 2px solid #3a3a70; border-radius: 12px;
    padding: 16px 20px; min-width: 160px; text-align: center;
    transition: all 0.3s;
  }
  .flow-box:hover { border-color: #ff9900; box-shadow: 0 0 20px rgba(255,153,0,0.2); }
  .flow-box.source { border-color: #ff9900; background: linear-gradient(135deg, #2a1a00, #3a2a10); }
  .flow-box.process { border-color: #00a8ff; background: linear-gradient(135deg, #001a2a, #002a3a); }
  .flow-box.output { border-color: #00c864; background: linear-gradient(135deg, #001a0a, #002a1a); }
  .flow-box.ml { border-color: #c864ff; background: linear-gradient(135deg, #1a002a, #2a003a); }
  .flow-box h5 { font-size: 0.95rem; margin-bottom: 4px; }
  .flow-box.source h5 { color: #ff9900; }
  .flow-box.process h5 { color: #00a8ff; }
  .flow-box.output h5 { color: #00c864; }
  .flow-box.ml h5 { color: #c864ff; }
  .flow-box small { color: #778899; font-size: 0.75rem; }
  .flow-arrow {
    color: #556677; font-size: 1.6rem; margin: 0 8px; min-width: 30px; text-align: center;
  }
  .flow-arrow-down {
    text-align: center; color: #556677; font-size: 1.6rem; margin: 8px 0;
  }

  /* Module Detail */
  .module-detail {
    background: #1a1a30; border: 1px solid #2a2a50; border-radius: 14px;
    padding: 28px; margin-bottom: 20px;
  }
  .module-detail h4 { color: #00a8ff; margin-bottom: 6px; }
  .module-detail .filename { color: #00c864; font-family: monospace; font-size: 0.9rem; margin-bottom: 12px; }
  .module-detail table { width: 100%; border-collapse: collapse; margin-top: 12px; }
  .module-detail th { background: #12121f; color: #ff9900; padding: 10px 14px; text-align: left; font-size: 0.85rem; }
  .module-detail td { padding: 10px 14px; border-top: 1px solid #2a2a40; color: #99aabb; font-size: 0.88rem; }
  .module-detail td code { background: #12121f; color: #00c864; padding: 2px 6px; border-radius: 4px; font-size: 0.82rem; }

  /* Illustrations */
  .illust-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(340px,1fr)); gap: 24px; margin-top: 24px; }
  .illust-card {
    background: #12121f; border: 1px solid #2a2a50; border-radius: 14px;
    overflow: hidden;
  }
  .illust-card .illust-img {
    width: 100%; height: 220px; display: flex; align-items: center; justify-content: center;
    position: relative; overflow: hidden;
  }
  .illust-card .illust-caption { padding: 16px; }
  .illust-card .illust-caption h5 { color: #ff9900; margin-bottom: 4px; }
  .illust-card .illust-caption p { color: #778899; font-size: 0.85rem; line-height: 1.5; }

  /* SVG illustrations */
  .illust-svg { width: 100%; height: 100%; }

  /* Tech Stack */
  .tech-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px,1fr)); gap: 16px; margin-top: 20px; }
  .tech-card {
    background: #1a1a30; border: 1px solid #2a2a50; border-radius: 10px;
    padding: 20px; text-align: center; transition: transform 0.3s;
  }
  .tech-card:hover { transform: scale(1.05); }
  .tech-card .tech-icon { font-size: 2rem; margin-bottom: 8px; }
  .tech-card h5 { color: #ff9900; margin-bottom: 4px; }
  .tech-card p { color: #778899; font-size: 0.82rem; }

  /* Legend */
  .legend {
    display: flex; gap: 20px; justify-content: center; margin-top: 16px; flex-wrap: wrap;
  }
  .legend-item { display: flex; align-items: center; gap: 6px; font-size: 0.82rem; color: #778899; }
  .legend-dot { width: 12px; height: 12px; border-radius: 50%; }
  .legend-dot.src { background: #ff9900; }
  .legend-dot.proc { background: #00a8ff; }
  .legend-dot.out { background: #00c864; }
  .legend-dot.mll { background: #c864ff; }

  /* Example Walkthrough */
  .example-banner {
    background: linear-gradient(135deg, #1a2a00, #2a3a10);
    border: 2px solid #88cc00;
    border-radius: 14px; padding: 24px 30px; text-align: center; margin-bottom: 30px;
  }
  .example-banner h3 { color: #88cc00; font-size: 1.4rem; margin-bottom: 6px; }
  .example-banner p { color: #aabb88; font-size: 1rem; }
  .example-banner .search-box {
    display: inline-block; background: #12121f; border: 2px solid #ff9900;
    border-radius: 30px; padding: 10px 28px; margin-top: 14px;
    font-size: 1.1rem; color: #ff9900; font-family: monospace;
  }
  .example-banner .search-box::before { content: '> '; color: #556677; }

  .ex-step {
    background: #12121f; border: 1px solid #2a2a50; border-radius: 14px;
    margin-bottom: 24px; overflow: hidden;
  }
  .ex-step-header {
    display: flex; align-items: center; gap: 14px;
    padding: 16px 24px; background: #1a1a30; border-bottom: 1px solid #2a2a50;
    cursor: pointer; user-select: none;
  }
  .ex-step-header:hover { background: #1e1e38; }
  .ex-step-num {
    min-width: 38px; height: 38px; border-radius: 50%;
    background: linear-gradient(135deg, #ff9900, #e88600);
    display: flex; align-items: center; justify-content: center;
    font-size: 1rem; font-weight: bold; color: #1a1a2e;
  }
  .ex-step-header h4 { color: #ff9900; font-size: 1rem; flex: 1; }
  .ex-step-header .ex-file { color: #00c864; font-family: monospace; font-size: 0.82rem; }
  .ex-step-header .ex-toggle { color: #556677; font-size: 1.2rem; transition: transform 0.3s; }
  .ex-step.open .ex-toggle { transform: rotate(180deg); }
  .ex-step-body { padding: 20px 24px; display: none; }
  .ex-step.open .ex-step-body { display: block; }

  .ex-narrative {
    color: #99aabb; font-size: 0.92rem; line-height: 1.6;
    margin-bottom: 16px; padding: 12px 16px;
    background: rgba(255,153,0,0.06); border-left: 3px solid #ff9900; border-radius: 0 8px 8px 0;
  }

  .ex-table { width: 100%; border-collapse: collapse; margin: 12px 0; font-size: 0.82rem; }
  .ex-table th {
    background: #1a1a30; color: #ff9900; padding: 9px 12px; text-align: left;
    border-bottom: 2px solid #ff990040; white-space: nowrap;
  }
  .ex-table td { padding: 8px 12px; border-bottom: 1px solid #1e1e38; color: #b0c0d0; }
  .ex-table tr:hover td { background: rgba(255,153,0,0.04); }
  .ex-table .highlight-row td { background: rgba(255,153,0,0.1); color: #ffe0a0; }
  .ex-table .dimmed td { opacity: 0.45; }
  .ex-table .strike td { text-decoration: line-through; opacity: 0.35; }
  .ex-table td.price { color: #00c864; font-weight: 600; }
  .ex-table td.score { color: #ff9900; font-weight: bold; }
  .ex-table td.stars { color: #ffcc00; }

  .ex-data-badge {
    display: inline-block; padding: 4px 14px; border-radius: 16px;
    font-size: 0.82rem; margin: 4px 4px 4px 0;
  }
  .ex-badge-in { background: rgba(0,168,255,0.12); color: #00a8ff; }
  .ex-badge-out { background: rgba(0,200,100,0.12); color: #00c864; }
  .ex-badge-count { background: rgba(255,153,0,0.12); color: #ff9900; }
  .ex-badge-drop { background: rgba(255,68,102,0.12); color: #ff4466; }

  .ex-review-box {
    background: #1a1a30; border: 1px solid #2a2a50; border-radius: 10px;
    padding: 14px 18px; margin: 8px 0; font-size: 0.88rem; line-height: 1.55;
  }
  .ex-review-box .review-label {
    font-size: 0.75rem; font-weight: bold; margin-bottom: 6px; display: block;
  }
  .ex-review-box .review-label.pos { color: #00c864; }
  .ex-review-box .review-label.neg { color: #ff4466; }
  .ex-review-box .review-text { color: #99aabb; font-style: italic; }

  .ex-nlp-stage {
    display: flex; align-items: center; gap: 12px; margin: 10px 0; flex-wrap: wrap;
  }
  .ex-nlp-label {
    min-width: 130px; color: #00a8ff; font-size: 0.82rem; font-weight: 600; text-align: right;
  }
  .ex-nlp-arrow { color: #556677; font-size: 1.2rem; }
  .ex-nlp-tokens { display: flex; flex-wrap: wrap; gap: 5px; }
  .ex-nlp-token {
    padding: 3px 10px; border-radius: 6px; font-size: 0.78rem; font-family: monospace;
  }
  .ex-nlp-token.kept { background: rgba(0,200,100,0.15); color: #00c864; border: 1px solid #00c86440; }
  .ex-nlp-token.removed { background: rgba(255,68,102,0.1); color: #ff446680; border: 1px solid #ff446620; text-decoration: line-through; }
  .ex-nlp-token.pos-tag { background: rgba(255,153,0,0.15); color: #ff9900; border: 1px solid #ff990040; }
  .ex-nlp-token.neutral-tag { background: rgba(100,100,150,0.15); color: #778899; border: 1px solid #77889920; }

  .ex-emotion-bar-container { margin: 6px 0; }
  .ex-emotion-row { display: flex; align-items: center; gap: 10px; margin: 5px 0; }
  .ex-emotion-label { min-width: 90px; text-align: right; font-size: 0.82rem; }
  .ex-emotion-track { flex: 1; height: 22px; background: #1a1a30; border-radius: 6px; position: relative; overflow: hidden; max-width: 400px; }
  .ex-emotion-fill { height: 100%; border-radius: 6px; display: flex; align-items: center; padding-left: 8px; font-size: 0.75rem; font-weight: bold; color: #fff; transition: width 0.8s ease; }
  .ex-emotion-val { font-size: 0.82rem; min-width: 30px; }

  .ex-verdict {
    background: linear-gradient(135deg, #0a2a0a, #1a3a1a);
    border: 2px solid #00c864; border-radius: 14px;
    padding: 24px 30px; margin-top: 20px; text-align: center;
  }
  .ex-verdict h4 { color: #00c864; font-size: 1.2rem; margin-bottom: 8px; }
  .ex-verdict p { color: #88bb88; font-size: 0.95rem; line-height: 1.5; }
  .ex-verdict .verdict-product { color: #ff9900; font-weight: bold; font-size: 1.05rem; }

  .ex-connector { text-align: center; color: #ff990060; font-size: 1.6rem; margin: 4px 0; }

  /* Responsive */
  @media(max-width:768px) {
    .hero h1 { font-size: 1.8rem; }
    .section { padding: 20px; }
    .flow-row { flex-direction: column; align-items: center; }
    .flow-arrow { transform: rotate(90deg); margin: 4px 0; }
    .workflow-step { flex-direction: column; align-items: center; text-align: center; }
  }
</style>
</head>
<body>

<!-- Hero Section -->
<div class="hero">
  <h1>Amazon Product Analysis &amp; Sentiment Pipeline</h1>
  <p>An end-to-end pipeline that scrapes Amazon products, filters and ranks them using ML clustering, extracts customer reviews, and performs multi-layered sentiment &amp; emotion analysis.</p>
  <div class="badge">Python &middot; Selenium &middot; NLP &middot; Machine Learning</div>
</div>

<!-- Tab Navigation -->
<div class="tab-bar">
  <button class="tab-btn active" onclick="showTab('overview')">Overview</button>
  <button class="tab-btn" onclick="showTab('example')">Live Example</button>
  <button class="tab-btn" onclick="showTab('workflow')">Workflow</button>
  <button class="tab-btn" onclick="showTab('dataflow')">Data Flow</button>
  <button class="tab-btn" onclick="showTab('modules')">Modules</button>
  <button class="tab-btn" onclick="showTab('illustrations')">Illustrations</button>
  <button class="tab-btn" onclick="showTab('techstack')">Tech Stack</button>
</div>

<!-- ==================== OVERVIEW ==================== -->
<div class="section active" id="overview">
  <h2>Project Overview</h2>
  <p style="text-align:center;color:#99aabb;max-width:800px;margin:0 auto 10px;line-height:1.6;">
    This project automates the entire lifecycle of Amazon product research &mdash; from search to purchase recommendation &mdash; using web scraping, data processing, machine learning clustering, and NLP-based sentiment analysis.
  </p>
  <div class="overview-grid">
    <div class="overview-card">
      <div class="icon">&#128269;</div>
      <h4>1. Product Search &amp; Scraping</h4>
      <p>Searches Amazon for any product, scrapes up to 20 pages of results including descriptions, prices, ratings, and review counts.</p>
      <div class="tech"><span>Selenium</span><span>BeautifulSoup</span><span>CSV</span></div>
    </div>
    <div class="overview-card">
      <div class="icon">&#9881;</div>
      <h4>2. Data Filtering &amp; Clustering</h4>
      <p>Filters products by user keywords, applies KMeans clustering on prices to find the dominant price range, and deduplicates entries.</p>
      <div class="tech"><span>Pandas</span><span>Scikit-learn</span><span>KMeans</span></div>
    </div>
    <div class="overview-card">
      <div class="icon">&#11088;</div>
      <h4>3. Rating Scraping &amp; Ranking</h4>
      <p>Visits each product page to scrape 5-star and 4-star rating percentages, then computes a combined score for ranking.</p>
      <div class="tech"><span>Selenium</span><span>Pandas</span></div>
    </div>
    <div class="overview-card">
      <div class="icon">&#128172;</div>
      <h4>4. Review Extraction</h4>
      <p>Navigates to review pages of top-ranked products, scrapes up to 4 pages of reviews (both positive and critical).</p>
      <div class="tech"><span>Selenium</span><span>BeautifulSoup</span></div>
    </div>
    <div class="overview-card">
      <div class="icon">&#128200;</div>
      <h4>5. NLP Preprocessing &amp; VADER</h4>
      <p>Tokenizes, lemmatizes, and POS-tags review text. Filters adjectives/verbs and applies VADER sentiment scoring.</p>
      <div class="tech"><span>NLTK</span><span>VADER</span><span>POS Tagging</span></div>
    </div>
    <div class="overview-card">
      <div class="icon">&#129504;</div>
      <h4>6. Emotion Classification</h4>
      <p>Uses a RoBERTa transformer model (GoEmotions) to classify reviews into 7 emotion categories for deep insight.</p>
      <div class="tech"><span>HuggingFace</span><span>RoBERTa</span><span>GoEmotions</span></div>
    </div>
  </div>
</div>

<!-- ==================== LIVE EXAMPLE ==================== -->
<div class="section" id="example">
  <h2>Live Example Walkthrough</h2>
  <p style="text-align:center;color:#99aabb;max-width:800px;margin:0 auto 10px;line-height:1.6;">
    Follow a complete run of the pipeline with the search term <strong style="color:#ff9900;">"wireless earbuds"</strong>. Click each step to expand and see the sample data at that stage.
  </p>

  <!-- Banner -->
  <div class="example-banner">
    <h3>Scenario: Finding the Best Wireless Earbuds</h3>
    <p>A user wants to buy wireless earbuds and runs the pipeline to find the best product based on data-driven analysis.</p>
    <div class="search-box">Enter the product you need to search: wireless earbuds</div>
  </div>

  <!-- ========== STEP 1 ========== -->
  <div class="ex-step open" id="exs1">
    <div class="ex-step-header" onclick="toggleStep('exs1')">
      <div class="ex-step-num">1</div>
      <h4>Scrape Amazon Search Results</h4>
      <span class="ex-file">main1amazon.py</span>
      <span class="ex-toggle">&#9660;</span>
    </div>
    <div class="ex-step-body">
      <div class="ex-narrative">
        The user types <strong>"wireless earbuds"</strong>. Selenium opens Chrome and navigates to<br>
        <code style="color:#778899;">https://www.amazon.com/s?k=wireless+earbuds&amp;page=1</code><br>
        It scrapes 20 pages, collecting ~320 product listings. Each listing yields 5 fields.
      </div>
      <span class="ex-data-badge ex-badge-in">Input: "wireless earbuds"</span>
      <span class="ex-data-badge ex-badge-out">Output: font67.csv</span>
      <span class="ex-data-badge ex-badge-count">~320 rows scraped</span>

      <table class="ex-table">
        <tr><th>#</th><th>Description</th><th>Price</th><th>Rating</th><th>Reviews</th><th>URL</th></tr>
        <tr><td>1</td><td>Samsung Galaxy Buds2 Pro Bluetooth Earbuds, True Wireless, Noise Cancelling...</td><td class="price">$149.99</td><td class="stars">4.3 out of 5</td><td>12,847</td><td style="color:#00a8ff;font-size:0.75rem;">amazon.com/dp/B0B...</td></tr>
        <tr><td>2</td><td>JBL Tune 230NC TWS - True Wireless Noise Cancelling Earbuds...</td><td class="price">$49.95</td><td class="stars">4.4 out of 5</td><td>8,231</td><td style="color:#00a8ff;font-size:0.75rem;">amazon.com/dp/B09...</td></tr>
        <tr><td>3</td><td>TOZO T6 True Wireless Earbuds Bluetooth 5.3 Headphones...</td><td class="price">$21.99</td><td class="stars">4.4 out of 5</td><td>178,452</td><td style="color:#00a8ff;font-size:0.75rem;">amazon.com/dp/B07...</td></tr>
        <tr><td>4</td><td>Apple AirPods Pro (2nd Generation) Wireless Earbuds...</td><td class="price">$189.99</td><td class="stars">4.7 out of 5</td><td>95,120</td><td style="color:#00a8ff;font-size:0.75rem;">amazon.com/dp/B0D...</td></tr>
        <tr><td>5</td><td>Beats Studio Buds+ True Wireless Noise Cancelling Earbuds...</td><td class="price">$129.95</td><td class="stars">4.3 out of 5</td><td>5,890</td><td style="color:#00a8ff;font-size:0.75rem;">amazon.com/dp/B0C...</td></tr>
        <tr><td>6</td><td>Anker Soundcore Life P3 Noise Cancelling Earbuds...</td><td class="price">$55.99</td><td class="stars">4.3 out of 5</td><td>22,310</td><td style="color:#00a8ff;font-size:0.75rem;">amazon.com/dp/B09...</td></tr>
        <tr><td>7</td><td>Sony WF-1000XM5 Industry Leading Noise Cancelling Earbuds...</td><td class="price">$229.99</td><td class="stars">4.4 out of 5</td><td>3,201</td><td style="color:#00a8ff;font-size:0.75rem;">amazon.com/dp/B0C...</td></tr>
        <tr><td>8</td><td>TAGRY Bluetooth Headphones True Wireless Earbuds 60H Playback...</td><td class="price">$16.99</td><td class="stars">4.2 out of 5</td><td>62,100</td><td style="color:#00a8ff;font-size:0.75rem;">amazon.com/dp/B0B...</td></tr>
        <tr><td style="color:#556677;" colspan="6">... +312 more rows across 20 pages ...</td></tr>
      </table>
    </div>
  </div>
  <div class="ex-connector">&#8595;</div>

  <!-- ========== STEP 2 ========== -->
  <div class="ex-step" id="exs2">
    <div class="ex-step-header" onclick="toggleStep('exs2')">
      <div class="ex-step-num">2</div>
      <h4>Filter by User Keywords</h4>
      <span class="ex-file">preeee.py</span>
      <span class="ex-toggle">&#9660;</span>
    </div>
    <div class="ex-step-body">
      <div class="ex-narrative">
        The user is asked how many keywords to enter. They choose <strong>2</strong> keywords:<br>
        <code style="color:#ff9900;">"noise cancelling"</code> and <code style="color:#ff9900;">"bluetooth"</code><br>
        Only products whose descriptions match either keyword (case-insensitive regex) are kept. Rows with null values in any column are also dropped.
      </div>
      <span class="ex-data-badge ex-badge-in">Input: font67.csv (320 rows)</span>
      <span class="ex-data-badge ex-badge-out">Output: filtered_data8.csv</span>
      <span class="ex-data-badge ex-badge-count">148 rows remain</span>
      <span class="ex-data-badge ex-badge-drop">172 rows removed</span>

      <table class="ex-table">
        <tr><th>#</th><th>Description</th><th>Price</th><th>Rating</th><th>Reviews</th><th>Matched</th></tr>
        <tr><td>1</td><td>Samsung Galaxy Buds2 Pro <mark style="background:#ff990030;color:#ff9900;">Bluetooth</mark> Earbuds, <mark style="background:#ff990030;color:#ff9900;">Noise Cancelling</mark>...</td><td class="price">$149.99</td><td>4.3</td><td>12,847</td><td style="color:#00c864;">Both</td></tr>
        <tr><td>2</td><td>JBL Tune 230NC TWS - <mark style="background:#ff990030;color:#ff9900;">Noise Cancelling</mark> Earbuds...</td><td class="price">$49.95</td><td>4.4</td><td>8,231</td><td style="color:#00c864;">Keyword 1</td></tr>
        <tr><td>3</td><td>TOZO T6 True Wireless Earbuds <mark style="background:#ff990030;color:#ff9900;">Bluetooth</mark> 5.3...</td><td class="price">$21.99</td><td>4.4</td><td>178,452</td><td style="color:#00c864;">Keyword 2</td></tr>
        <tr><td>4</td><td>Anker Soundcore Life P3 <mark style="background:#ff990030;color:#ff9900;">Noise Cancelling</mark> Earbuds...</td><td class="price">$55.99</td><td>4.3</td><td>22,310</td><td style="color:#00c864;">Keyword 1</td></tr>
        <tr><td>5</td><td>Sony WF-1000XM5 <mark style="background:#ff990030;color:#ff9900;">Noise Cancelling</mark> Earbuds...</td><td class="price">$229.99</td><td>4.4</td><td>3,201</td><td style="color:#00c864;">Keyword 1</td></tr>
        <tr><td>6</td><td>TAGRY <mark style="background:#ff990030;color:#ff9900;">Bluetooth</mark> Headphones True Wireless Earbuds...</td><td class="price">$16.99</td><td>4.2</td><td>62,100</td><td style="color:#00c864;">Keyword 2</td></tr>
        <tr class="strike"><td>-</td><td>Ear Hooks for Running (no bluetooth/noise cancelling)</td><td>$9.99</td><td>3.8</td><td>450</td><td style="color:#ff4466;">No match</td></tr>
        <tr><td style="color:#556677;" colspan="6">... +142 more matching rows ...</td></tr>
      </table>
    </div>
  </div>
  <div class="ex-connector">&#8595;</div>

  <!-- ========== STEP 3 ========== -->
  <div class="ex-step" id="exs3">
    <div class="ex-step-header" onclick="toggleStep('exs3')">
      <div class="ex-step-num">3</div>
      <h4>KMeans Price Clustering (k=5)</h4>
      <span class="ex-file">preeee.py</span>
      <span class="ex-toggle">&#9660;</span>
    </div>
    <div class="ex-step-body">
      <div class="ex-narrative">
        KMeans with k=5 clusters is applied to the <strong>Price</strong> column. The algorithm groups all 148 products into 5 price segments. The cluster with the <strong>most products</strong> is identified as the dominant/popular price range. Products outside this range are excluded.
      </div>
      <span class="ex-data-badge ex-badge-in">Input: filtered_data8.csv (148 rows)</span>
      <span class="ex-data-badge ex-badge-out">Output: filtered_data9.csv</span>
      <span class="ex-data-badge ex-badge-count">72 rows in dominant cluster</span>

      <!-- Cluster visualization -->
      <div style="margin:20px 0;">
        <svg viewBox="0 0 700 200" style="width:100%;max-width:700px;display:block;margin:0 auto;">
          <!-- Axis -->
          <line x1="50" y1="160" x2="660" y2="160" stroke="#556677" stroke-width="1"/>
          <text x="350" y="190" fill="#778899" font-size="11" text-anchor="middle">Price Range ($)</text>
          <!-- Cluster 0 -->
          <rect x="60" y="120" width="80" height="40" rx="4" fill="#556677" opacity="0.5"/>
          <text x="100" y="145" fill="#ccc" font-size="10" text-anchor="middle">18 items</text>
          <text x="100" y="175" fill="#778899" font-size="9" text-anchor="middle">$5 - $20</text>
          <text x="100" y="112" fill="#778899" font-size="8" text-anchor="middle">Cluster 0</text>
          <!-- Cluster 1 (dominant) -->
          <rect x="170" y="50" width="140" height="110" rx="4" fill="#ff9900" opacity="0.7"/>
          <rect x="170" y="50" width="140" height="110" rx="4" fill="none" stroke="#ff9900" stroke-width="3" stroke-dasharray="6,3"/>
          <text x="240" y="95" fill="#fff" font-size="14" text-anchor="middle" font-weight="bold">72 items</text>
          <text x="240" y="115" fill="#ffe0a0" font-size="10" text-anchor="middle">DOMINANT</text>
          <text x="240" y="175" fill="#ff9900" font-size="10" text-anchor="middle" font-weight="bold">$20 - $70</text>
          <text x="240" y="42" fill="#ff9900" font-size="9" text-anchor="middle">Cluster 1</text>
          <!-- Cluster 2 -->
          <rect x="340" y="100" width="80" height="60" rx="4" fill="#00a8ff" opacity="0.4"/>
          <text x="380" y="135" fill="#ccc" font-size="10" text-anchor="middle">31 items</text>
          <text x="380" y="175" fill="#778899" font-size="9" text-anchor="middle">$70 - $130</text>
          <text x="380" y="92" fill="#778899" font-size="8" text-anchor="middle">Cluster 2</text>
          <!-- Cluster 3 -->
          <rect x="450" y="118" width="70" height="42" rx="4" fill="#c864ff" opacity="0.4"/>
          <text x="485" y="143" fill="#ccc" font-size="10" text-anchor="middle">19 items</text>
          <text x="485" y="175" fill="#778899" font-size="9" text-anchor="middle">$130 - $200</text>
          <text x="485" y="110" fill="#778899" font-size="8" text-anchor="middle">Cluster 3</text>
          <!-- Cluster 4 -->
          <rect x="550" y="132" width="60" height="28" rx="4" fill="#ff4466" opacity="0.35"/>
          <text x="580" y="150" fill="#ccc" font-size="10" text-anchor="middle">8 items</text>
          <text x="580" y="175" fill="#778899" font-size="9" text-anchor="middle">$200 - $350</text>
          <text x="580" y="124" fill="#778899" font-size="8" text-anchor="middle">Cluster 4</text>
        </svg>
      </div>

      <table class="ex-table">
        <tr><th>Product</th><th>Price</th><th>Cluster</th><th>Kept?</th></tr>
        <tr class="highlight-row"><td>TOZO T6 Bluetooth 5.3 Earbuds...</td><td class="price">$21.99</td><td style="color:#ff9900;">1 (Dominant)</td><td style="color:#00c864;">Yes</td></tr>
        <tr class="highlight-row"><td>JBL Tune 230NC Noise Cancelling...</td><td class="price">$49.95</td><td style="color:#ff9900;">1 (Dominant)</td><td style="color:#00c864;">Yes</td></tr>
        <tr class="highlight-row"><td>Anker Soundcore Life P3...</td><td class="price">$55.99</td><td style="color:#ff9900;">1 (Dominant)</td><td style="color:#00c864;">Yes</td></tr>
        <tr class="highlight-row"><td>Jabra Elite 4 Active...</td><td class="price">$59.99</td><td style="color:#ff9900;">1 (Dominant)</td><td style="color:#00c864;">Yes</td></tr>
        <tr class="dimmed"><td>Samsung Galaxy Buds2 Pro...</td><td>$149.99</td><td style="color:#c864ff;">3</td><td style="color:#ff4466;">Excluded</td></tr>
        <tr class="dimmed"><td>Sony WF-1000XM5...</td><td>$229.99</td><td style="color:#ff4466;">4</td><td style="color:#ff4466;">Excluded</td></tr>
        <tr class="dimmed"><td>Apple AirPods Pro 2nd Gen...</td><td>$189.99</td><td style="color:#c864ff;">3</td><td style="color:#ff4466;">Excluded</td></tr>
        <tr><td style="color:#556677;" colspan="4">... dominant cluster: $20 - $70 range with 72 products ...</td></tr>
      </table>
    </div>
  </div>
  <div class="ex-connector">&#8595;</div>

  <!-- ========== STEP 4 ========== -->
  <div class="ex-step" id="exs4">
    <div class="ex-step-header" onclick="toggleStep('exs4')">
      <div class="ex-step-num">4</div>
      <h4>Deduplication</h4>
      <span class="ex-file">preeee.py</span>
      <span class="ex-toggle">&#9660;</span>
    </div>
    <div class="ex-step-body">
      <div class="ex-narrative">
        Duplicate products (same Description from different search result pages) are removed. This ensures each unique product is only counted once in the analysis.
      </div>
      <span class="ex-data-badge ex-badge-in">Input: filtered_data9.csv (72 rows)</span>
      <span class="ex-data-badge ex-badge-out">Output: filtered_data9_deduplicated.csv</span>
      <span class="ex-data-badge ex-badge-count">53 unique products</span>
      <span class="ex-data-badge ex-badge-drop">19 duplicates removed</span>

      <table class="ex-table">
        <tr><th>Description</th><th>Appears</th><th>Action</th></tr>
        <tr><td>TOZO T6 True Wireless Earbuds Bluetooth 5.3...</td><td>3 times (pages 1, 5, 12)</td><td style="color:#00c864;">Keep 1, drop 2</td></tr>
        <tr><td>JBL Tune 230NC TWS Noise Cancelling...</td><td>2 times (pages 1, 8)</td><td style="color:#00c864;">Keep 1, drop 1</td></tr>
        <tr><td>Anker Soundcore Life P3...</td><td>1 time</td><td style="color:#778899;">Keep (unique)</td></tr>
        <tr><td>Jabra Elite 4 Active Bluetooth...</td><td>2 times (pages 3, 14)</td><td style="color:#00c864;">Keep 1, drop 1</td></tr>
        <tr><td style="color:#556677;" colspan="3">... 53 unique products remain after deduplication ...</td></tr>
      </table>
    </div>
  </div>
  <div class="ex-connector">&#8595;</div>

  <!-- ========== STEP 5 ========== -->
  <div class="ex-step" id="exs5">
    <div class="ex-step-header" onclick="toggleStep('exs5')">
      <div class="ex-step-num">5</div>
      <h4>Scrape Star Rating Percentages</h4>
      <span class="ex-file">preeee.py</span>
      <span class="ex-toggle">&#9660;</span>
    </div>
    <div class="ex-step-body">
      <div class="ex-narrative">
        For each of the 53 unique products, Selenium visits the product page, clicks the review section, and scrapes the <strong>5-star %</strong> and <strong>4-star %</strong> from the rating breakdown bar. These percentages indicate what fraction of reviewers gave the product top ratings.
      </div>
      <span class="ex-data-badge ex-badge-in">Input: 53 product URLs</span>
      <span class="ex-data-badge ex-badge-out">Output: fileee3.csv</span>

      <!-- Visual: rating bars for one product -->
      <div style="background:#1a1a30;border-radius:10px;padding:18px;margin:16px 0;max-width:500px;">
        <div style="color:#ff9900;font-weight:bold;margin-bottom:12px;">Example: TOZO T6 Rating Breakdown</div>
        <div style="display:flex;align-items:center;gap:10px;margin:4px 0;">
          <span style="color:#ffcc00;min-width:50px;font-size:0.85rem;">5 star</span>
          <div style="flex:1;height:16px;background:#1e1e38;border-radius:4px;overflow:hidden;">
            <div style="width:68%;height:100%;background:#ff9900;border-radius:4px;"></div>
          </div>
          <span style="color:#ff9900;min-width:35px;font-size:0.85rem;">68%</span>
        </div>
        <div style="display:flex;align-items:center;gap:10px;margin:4px 0;">
          <span style="color:#ffcc00;min-width:50px;font-size:0.85rem;">4 star</span>
          <div style="flex:1;height:16px;background:#1e1e38;border-radius:4px;overflow:hidden;">
            <div style="width:17%;height:100%;background:#ffcc00;border-radius:4px;"></div>
          </div>
          <span style="color:#ffcc00;min-width:35px;font-size:0.85rem;">17%</span>
        </div>
        <div style="display:flex;align-items:center;gap:10px;margin:4px 0;">
          <span style="color:#778899;min-width:50px;font-size:0.85rem;">3 star</span>
          <div style="flex:1;height:16px;background:#1e1e38;border-radius:4px;overflow:hidden;">
            <div style="width:7%;height:100%;background:#556677;border-radius:4px;"></div>
          </div>
          <span style="color:#778899;min-width:35px;font-size:0.85rem;">7%</span>
        </div>
        <div style="display:flex;align-items:center;gap:10px;margin:4px 0;">
          <span style="color:#778899;min-width:50px;font-size:0.85rem;">2 star</span>
          <div style="flex:1;height:16px;background:#1e1e38;border-radius:4px;overflow:hidden;">
            <div style="width:3%;height:100%;background:#556677;border-radius:4px;"></div>
          </div>
          <span style="color:#778899;min-width:35px;font-size:0.85rem;">3%</span>
        </div>
        <div style="display:flex;align-items:center;gap:10px;margin:4px 0;">
          <span style="color:#778899;min-width:50px;font-size:0.85rem;">1 star</span>
          <div style="flex:1;height:16px;background:#1e1e38;border-radius:4px;overflow:hidden;">
            <div style="width:5%;height:100%;background:#ff4466;border-radius:4px;"></div>
          </div>
          <span style="color:#ff4466;min-width:35px;font-size:0.85rem;">5%</span>
        </div>
      </div>

      <table class="ex-table">
        <tr><th>Product</th><th>5-Star %</th><th>4-Star %</th><th>Review Count</th><th>Overall Rating</th></tr>
        <tr><td>TOZO T6 Bluetooth 5.3...</td><td class="stars">68%</td><td class="stars">17%</td><td>178,452</td><td>4.4</td></tr>
        <tr><td>JBL Tune 230NC...</td><td class="stars">65%</td><td class="stars">19%</td><td>8,231</td><td>4.4</td></tr>
        <tr><td>Anker Soundcore Life P3...</td><td class="stars">62%</td><td class="stars">20%</td><td>22,310</td><td>4.3</td></tr>
        <tr><td>Jabra Elite 4 Active...</td><td class="stars">70%</td><td class="stars">16%</td><td>4,520</td><td>4.4</td></tr>
        <tr><td>Soundcore by Anker A20i...</td><td class="stars">72%</td><td class="stars">15%</td><td>45,800</td><td>4.5</td></tr>
        <tr><td style="color:#556677;" colspan="5">... 53 products with star breakdowns ...</td></tr>
      </table>
    </div>
  </div>
  <div class="ex-connector">&#8595;</div>

  <!-- ========== STEP 6 ========== -->
  <div class="ex-step" id="exs6">
    <div class="ex-step-header" onclick="toggleStep('exs6')">
      <div class="ex-step-num">6</div>
      <h4>Compute Combined Score &amp; Rank</h4>
      <span class="ex-file">preeee.py</span>
      <span class="ex-toggle">&#9660;</span>
    </div>
    <div class="ex-step-body">
      <div class="ex-narrative">
        A <strong>combined score</strong> is calculated for each product:<br><br>
        <code style="color:#ff9900;font-size:1rem;">Score = 5star% + 4star% + reviewcount + overall_rating</code><br><br>
        Products are sorted by this score in descending order. Higher review counts heavily influence the score, making well-reviewed products rank higher.
      </div>
      <span class="ex-data-badge ex-badge-in">Input: fileee3.csv (53 rows)</span>
      <span class="ex-data-badge ex-badge-out">Output: sorted_data1.csv</span>

      <table class="ex-table">
        <tr><th>Rank</th><th>Product</th><th>5-Star</th><th>4-Star</th><th>Reviews</th><th>Rating</th><th>Combined Score</th></tr>
        <tr class="highlight-row">
          <td style="color:#ffcc00;font-weight:bold;">#1</td>
          <td>TOZO T6 Bluetooth 5.3 Earbuds...</td><td class="stars">68</td><td class="stars">17</td><td>178,452</td><td>4.4</td>
          <td class="score">178,541.4</td>
        </tr>
        <tr>
          <td style="color:#ccc;">#2</td>
          <td>TAGRY Bluetooth 60H Playback...</td><td class="stars">64</td><td class="stars">18</td><td>62,100</td><td>4.2</td>
          <td class="score">62,186.2</td>
        </tr>
        <tr>
          <td style="color:#ccc;">#3</td>
          <td>Soundcore by Anker A20i...</td><td class="stars">72</td><td class="stars">15</td><td>45,800</td><td>4.5</td>
          <td class="score">45,891.5</td>
        </tr>
        <tr>
          <td style="color:#99aabb;">#4</td>
          <td>Anker Soundcore Life P3...</td><td class="stars">62</td><td class="stars">20</td><td>22,310</td><td>4.3</td>
          <td class="score">22,396.3</td>
        </tr>
        <tr>
          <td style="color:#99aabb;">#5</td>
          <td>JBL Tune 230NC TWS...</td><td class="stars">65</td><td class="stars">19</td><td>8,231</td><td>4.4</td>
          <td class="score">8,319.4</td>
        </tr>
        <tr>
          <td style="color:#778899;">#6</td>
          <td>Jabra Elite 4 Active...</td><td class="stars">70</td><td class="stars">16</td><td>4,520</td><td>4.4</td>
          <td style="color:#99aabb;">4,610.4</td>
        </tr>
        <tr><td style="color:#556677;" colspan="7">... remaining products ranked by score ...</td></tr>
      </table>
    </div>
  </div>
  <div class="ex-connector">&#8595;</div>

  <!-- ========== STEP 7 ========== -->
  <div class="ex-step" id="exs7">
    <div class="ex-step-header" onclick="toggleStep('exs7')">
      <div class="ex-step-num">7</div>
      <h4>Extract Customer Reviews</h4>
      <span class="ex-file">rev.py</span>
      <span class="ex-toggle">&#9660;</span>
    </div>
    <div class="ex-step-body">
      <div class="ex-narrative">
        For each ranked product, Selenium navigates to the "All Reviews" page and scrapes review text from <strong>4 pages</strong> (~40 reviews per product). Each product's reviews are stored as a single row in the CSV, where each cell is one review.
      </div>
      <span class="ex-data-badge ex-badge-in">Input: sorted_data1.csv (product URLs)</span>
      <span class="ex-data-badge ex-badge-out">Output: merix1.csv</span>
      <span class="ex-data-badge ex-badge-count">~40 reviews per product</span>

      <h3 style="color:#00c864;font-size:1rem;margin:16px 0 8px;">Sample Reviews for #1 Ranked: TOZO T6</h3>

      <div class="ex-review-box">
        <span class="review-label pos">Review 1 (Positive)</span>
        <span class="review-text">"These earbuds are absolutely amazing for the price! The sound quality is incredible, bass is deep and rich. Battery life lasts all day. Noise cancelling works great on my commute. Best purchase I've made this year!"</span>
      </div>
      <div class="ex-review-box">
        <span class="review-label pos">Review 2 (Positive)</span>
        <span class="review-text">"Very comfortable fit, doesn't fall out during workouts. Bluetooth connection is stable and pairs instantly. The charging case is compact and sleek. Love the touch controls."</span>
      </div>
      <div class="ex-review-box">
        <span class="review-label neg">Review 3 (Critical)</span>
        <span class="review-text">"Sound quality is decent but the microphone is terrible for phone calls. People can't hear me clearly. Also, the touch controls are too sensitive - I keep accidentally pausing music."</span>
      </div>
      <div class="ex-review-box">
        <span class="review-label pos">Review 4 (Positive)</span>
        <span class="review-text">"Upgraded from my old wired earphones and I'm blown away. The wireless freedom is liberating. IPX8 waterproof rating gives me confidence during rain runs. Highly recommend!"</span>
      </div>
      <div style="color:#556677;text-align:center;margin:10px 0;font-size:0.85rem;">... ~36 more reviews scraped for this product ...</div>
    </div>
  </div>
  <div class="ex-connector">&#8595;</div>

  <!-- ========== STEP 8 ========== -->
  <div class="ex-step" id="exs8">
    <div class="ex-step-header" onclick="toggleStep('exs8')">
      <div class="ex-step-num">8</div>
      <h4>NLP Preprocessing &amp; VADER Sentiment</h4>
      <span class="ex-file">ori.py</span>
      <span class="ex-toggle">&#9660;</span>
    </div>
    <div class="ex-step-body">
      <div class="ex-narrative">
        Each review goes through a 5-stage NLP pipeline. Let's trace <strong>Review 1</strong> step-by-step.
      </div>

      <div style="background:#1a1a30;border-radius:10px;padding:18px;margin:12px 0;">
        <div style="color:#ff9900;font-weight:bold;margin-bottom:14px;">Tracing Review 1 through the NLP Pipeline:</div>

        <!-- Stage: Raw -->
        <div class="ex-nlp-stage">
          <div class="ex-nlp-label">Raw Text</div>
          <div class="ex-nlp-arrow">&#8594;</div>
          <div style="color:#99aabb;font-style:italic;font-size:0.85rem;">"These earbuds are absolutely amazing for the price!"</div>
        </div>

        <!-- Stage: Tokenize -->
        <div class="ex-nlp-stage">
          <div class="ex-nlp-label">1. Tokenize</div>
          <div class="ex-nlp-arrow">&#8594;</div>
          <div class="ex-nlp-tokens">
            <span class="ex-nlp-token kept">These</span>
            <span class="ex-nlp-token kept">earbuds</span>
            <span class="ex-nlp-token kept">are</span>
            <span class="ex-nlp-token kept">absolutely</span>
            <span class="ex-nlp-token kept">amazing</span>
            <span class="ex-nlp-token kept">for</span>
            <span class="ex-nlp-token kept">the</span>
            <span class="ex-nlp-token kept">price</span>
            <span class="ex-nlp-token kept">!</span>
          </div>
        </div>

        <!-- Stage: Stopwords -->
        <div class="ex-nlp-stage">
          <div class="ex-nlp-label">2. Remove Stopwords</div>
          <div class="ex-nlp-arrow">&#8594;</div>
          <div class="ex-nlp-tokens">
            <span class="ex-nlp-token removed">These</span>
            <span class="ex-nlp-token kept">earbuds</span>
            <span class="ex-nlp-token removed">are</span>
            <span class="ex-nlp-token kept">absolutely</span>
            <span class="ex-nlp-token kept">amazing</span>
            <span class="ex-nlp-token removed">for</span>
            <span class="ex-nlp-token removed">the</span>
            <span class="ex-nlp-token kept">price</span>
          </div>
        </div>

        <!-- Stage: Lemmatize -->
        <div class="ex-nlp-stage">
          <div class="ex-nlp-label">3. Lemmatize</div>
          <div class="ex-nlp-arrow">&#8594;</div>
          <div class="ex-nlp-tokens">
            <span class="ex-nlp-token kept">earbud</span>
            <span class="ex-nlp-token kept">absolutely</span>
            <span class="ex-nlp-token kept">amazing</span>
            <span class="ex-nlp-token kept">price</span>
          </div>
        </div>

        <!-- Stage: POS Tag -->
        <div class="ex-nlp-stage">
          <div class="ex-nlp-label">4. POS Tag</div>
          <div class="ex-nlp-arrow">&#8594;</div>
          <div class="ex-nlp-tokens">
            <span class="ex-nlp-token neutral-tag">earbud/NN</span>
            <span class="ex-nlp-token neutral-tag">absolutely/RB</span>
            <span class="ex-nlp-token pos-tag">amazing/JJ</span>
            <span class="ex-nlp-token neutral-tag">price/NN</span>
          </div>
        </div>

        <!-- Stage: Filter -->
        <div class="ex-nlp-stage">
          <div class="ex-nlp-label">5. Filter (JJ/VB)</div>
          <div class="ex-nlp-arrow">&#8594;</div>
          <div class="ex-nlp-tokens">
            <span class="ex-nlp-token pos-tag" style="font-size:0.95rem;">amazing / JJ</span>
          </div>
          <span style="color:#556677;font-size:0.8rem;margin-left:8px;">(only adjectives &amp; verbs kept)</span>
        </div>

        <!-- Stage: VADER -->
        <div class="ex-nlp-stage">
          <div class="ex-nlp-label">6. VADER Score</div>
          <div class="ex-nlp-arrow">&#8594;</div>
          <div style="background:rgba(0,200,100,0.15);color:#00c864;padding:6px 16px;border-radius:8px;font-weight:bold;">
            "amazing" &#8594; compound: +0.5719
          </div>
        </div>
      </div>

      <h3 style="color:#00a8ff;font-size:1rem;margin:20px 0 10px;">Aggregated VADER Scores per Product (all reviews summed):</h3>
      <table class="ex-table">
        <tr><th>Product</th><th># Reviews</th><th># Words Analyzed</th><th>VADER Sum</th><th>Sentiment</th></tr>
        <tr class="highlight-row"><td>TOZO T6 Bluetooth 5.3...</td><td>40</td><td>127</td><td style="color:#00c864;font-weight:bold;">+38.42</td><td style="color:#00c864;">Strong Positive</td></tr>
        <tr><td>TAGRY Bluetooth 60H...</td><td>38</td><td>98</td><td style="color:#00c864;">+22.15</td><td style="color:#00c864;">Positive</td></tr>
        <tr><td>Soundcore by Anker A20i...</td><td>40</td><td>115</td><td style="color:#00c864;">+31.88</td><td style="color:#00c864;">Positive</td></tr>
        <tr><td>Anker Soundcore Life P3...</td><td>36</td><td>89</td><td style="color:#00c864;">+19.73</td><td style="color:#00c864;">Positive</td></tr>
        <tr><td>JBL Tune 230NC TWS...</td><td>40</td><td>103</td><td style="color:#00c864;">+25.60</td><td style="color:#00c864;">Positive</td></tr>
      </table>
    </div>
  </div>
  <div class="ex-connector">&#8595;</div>

  <!-- ========== STEP 9 ========== -->
  <div class="ex-step" id="exs9">
    <div class="ex-step-header" onclick="toggleStep('exs9')">
      <div class="ex-step-num">9</div>
      <h4>Emotion Classification (RoBERTa GoEmotions)</h4>
      <span class="ex-file">count.py</span>
      <span class="ex-toggle">&#9660;</span>
    </div>
    <div class="ex-step-body">
      <div class="ex-narrative">
        Each review is classified by the <strong>SamLowe/roberta-base-go_emotions</strong> model into one of 7 tracked emotions. This reveals not just whether sentiment is positive/negative, but <em>what kind</em> of positive feeling customers express.
      </div>

      <div style="background:#1a1a30;border-radius:10px;padding:18px;margin:12px 0;">
        <div style="color:#c864ff;font-weight:bold;margin-bottom:6px;">Example: Review 1 Classification</div>
        <div style="color:#99aabb;font-style:italic;font-size:0.88rem;margin-bottom:12px;">"These earbuds are absolutely amazing for the price! The sound quality is incredible..."</div>
        <div style="display:flex;gap:10px;flex-wrap:wrap;">
          <span style="background:rgba(255,204,0,0.2);color:#ffcc00;padding:5px 14px;border-radius:8px;font-size:0.85rem;border:1px solid #ffcc0040;">Excitement (0.87)</span>
          <span style="background:rgba(200,100,255,0.15);color:#c864ff;padding:5px 14px;border-radius:8px;font-size:0.85rem;border:1px solid #c864ff30;">Admiration (0.72)</span>
        </div>
      </div>

      <h3 style="color:#c864ff;font-size:1rem;margin:20px 0 10px;">Emotion Distribution for #1 Ranked: TOZO T6 (40 reviews)</h3>

      <div class="ex-emotion-bar-container">
        <div class="ex-emotion-row">
          <div class="ex-emotion-label" style="color:#ff9900;">Neutral</div>
          <div class="ex-emotion-track"><div class="ex-emotion-fill" style="width:30%;background:#ff9900;">12</div></div>
          <div class="ex-emotion-val" style="color:#ff9900;">12</div>
        </div>
        <div class="ex-emotion-row">
          <div class="ex-emotion-label" style="color:#00c864;">Approval</div>
          <div class="ex-emotion-track"><div class="ex-emotion-fill" style="width:55%;background:#00c864;">22</div></div>
          <div class="ex-emotion-val" style="color:#00c864;">22</div>
        </div>
        <div class="ex-emotion-row">
          <div class="ex-emotion-label" style="color:#ff4466;">Love</div>
          <div class="ex-emotion-track"><div class="ex-emotion-fill" style="width:22.5%;background:#ff4466;">9</div></div>
          <div class="ex-emotion-val" style="color:#ff4466;">9</div>
        </div>
        <div class="ex-emotion-row">
          <div class="ex-emotion-label" style="color:#ffcc00;">Excitement</div>
          <div class="ex-emotion-track"><div class="ex-emotion-fill" style="width:37.5%;background:#ffcc00;">15</div></div>
          <div class="ex-emotion-val" style="color:#ffcc00;">15</div>
        </div>
        <div class="ex-emotion-row">
          <div class="ex-emotion-label" style="color:#00a8ff;">Curiosity</div>
          <div class="ex-emotion-track"><div class="ex-emotion-fill" style="width:10%;background:#00a8ff;">4</div></div>
          <div class="ex-emotion-val" style="color:#00a8ff;">4</div>
        </div>
        <div class="ex-emotion-row">
          <div class="ex-emotion-label" style="color:#c864ff;">Admiration</div>
          <div class="ex-emotion-track"><div class="ex-emotion-fill" style="width:42.5%;background:#c864ff;">17</div></div>
          <div class="ex-emotion-val" style="color:#c864ff;">17</div>
        </div>
        <div class="ex-emotion-row">
          <div class="ex-emotion-label" style="color:#66ddaa;">Caring</div>
          <div class="ex-emotion-track"><div class="ex-emotion-fill" style="width:7.5%;background:#66ddaa;">3</div></div>
          <div class="ex-emotion-val" style="color:#66ddaa;">3</div>
        </div>
      </div>

      <div style="color:#778899;font-size:0.82rem;margin-top:8px;text-align:center;">
        Total classified: 82 &middot; Note: a single review can trigger multiple emotions
      </div>

      <h3 style="color:#00a8ff;font-size:1rem;margin:24px 0 10px;">Comparison Across Top 3 Products</h3>
      <table class="ex-table">
        <tr>
          <th>Emotion</th>
          <th style="color:#ff9900;">TOZO T6</th>
          <th style="color:#00a8ff;">TAGRY 60H</th>
          <th style="color:#00c864;">Anker A20i</th>
        </tr>
        <tr><td style="color:#ff9900;">Neutral</td><td>12</td><td>18</td><td>10</td></tr>
        <tr><td style="color:#00c864;">Approval</td><td style="font-weight:bold;color:#00c864;">22</td><td>14</td><td style="font-weight:bold;color:#00c864;">24</td></tr>
        <tr><td style="color:#ff4466;">Love</td><td>9</td><td>5</td><td>11</td></tr>
        <tr><td style="color:#ffcc00;">Excitement</td><td style="font-weight:bold;color:#ffcc00;">15</td><td>8</td><td>12</td></tr>
        <tr><td style="color:#00a8ff;">Curiosity</td><td>4</td><td>6</td><td>3</td></tr>
        <tr><td style="color:#c864ff;">Admiration</td><td style="font-weight:bold;color:#c864ff;">17</td><td>7</td><td>14</td></tr>
        <tr><td style="color:#66ddaa;">Caring</td><td>3</td><td>4</td><td>5</td></tr>
        <tr style="border-top:2px solid #2a2a50;">
          <td style="color:#ff9900;font-weight:bold;">Total</td>
          <td style="color:#ff9900;font-weight:bold;">82</td>
          <td>62</td>
          <td style="color:#ff9900;font-weight:bold;">79</td>
        </tr>
      </table>
    </div>
  </div>

  <!-- ========== FINAL VERDICT ========== -->
  <div class="ex-verdict">
    <h4>Pipeline Conclusion</h4>
    <p>
      From <strong style="color:#ff9900;">~320</strong> scraped products &#8594;
      <strong style="color:#00a8ff;">148</strong> keyword-matched &#8594;
      <strong style="color:#c864ff;">72</strong> in dominant price range &#8594;
      <strong style="color:#00c864;">53</strong> unique products ranked
    </p>
    <p style="margin-top:12px;">
      <span class="verdict-product">TOZO T6 True Wireless Earbuds ($21.99)</span><br>
      ranks #1 with combined score <strong style="color:#00c864;">178,541</strong>, VADER sentiment <strong style="color:#00c864;">+38.42</strong>,
      and the highest <em style="color:#c864ff;">Admiration</em> + <em style="color:#ffcc00;">Excitement</em> emotion profile among all candidates.
    </p>
  </div>
</div>

<!-- ==================== WORKFLOW ==================== -->
<div class="section" id="workflow">
  <h2>Pipeline Workflow</h2>
  <p style="text-align:center;color:#99aabb;margin-bottom:30px;">Step-by-step execution order of the pipeline</p>

  <div class="workflow-container">
    <div class="workflow-step">
      <div class="step-num">1</div>
      <div class="step-content">
        <h4>Search &amp; Scrape Amazon Products</h4>
        <p>User enters a search term. The script opens a Chrome browser via Selenium, iterates through 20 pages of Amazon search results, and extracts product description, price, rating, review count, and URL for each listing.</p>
        <span class="step-file">main1amazon.py</span>
        <span class="step-output">&#8594; font67.csv</span>
      </div>
    </div>
    <div class="step-connector"></div>

    <div class="workflow-step">
      <div class="step-num">2</div>
      <div class="step-content">
        <h4>Filter by Keywords</h4>
        <p>User specifies keywords to filter product descriptions. Rows with null values are removed. The filtered dataset is saved for further processing.</p>
        <span class="step-file">preeee.py (Part 1)</span>
        <span class="step-output">&#8594; filtered_data8.csv</span>
      </div>
    </div>
    <div class="step-connector"></div>

    <div class="workflow-step">
      <div class="step-num">3</div>
      <div class="step-content">
        <h4>Price Clustering with KMeans</h4>
        <p>KMeans (k=5) is applied to the Price column. The cluster with the most products is identified as the "dominant price range." Products outside this range are excluded. A histogram is displayed showing price distribution by cluster.</p>
        <span class="step-file">preeee.py (Part 2)</span>
        <span class="step-output">&#8594; filtered_data9.csv</span>
      </div>
    </div>
    <div class="step-connector"></div>

    <div class="workflow-step">
      <div class="step-num">4</div>
      <div class="step-content">
        <h4>Deduplication</h4>
        <p>Duplicate products (by description) are removed to ensure each product appears only once in the analysis.</p>
        <span class="step-file">preeee.py (Part 3)</span>
        <span class="step-output">&#8594; filtered_data9_deduplicated.csv</span>
      </div>
    </div>
    <div class="step-connector"></div>

    <div class="workflow-step">
      <div class="step-num">5</div>
      <div class="step-content">
        <h4>Scrape 5-Star &amp; 4-Star Percentages</h4>
        <p>For each product, the script visits its Amazon page, clicks on the review section, and extracts the percentage of 5-star and 4-star ratings.</p>
        <span class="step-file">preeee.py (Part 4)</span>
        <span class="step-output">&#8594; fileee3.csv</span>
      </div>
    </div>
    <div class="step-connector"></div>

    <div class="workflow-step">
      <div class="step-num">6</div>
      <div class="step-content">
        <h4>Compute Combined Score &amp; Rank</h4>
        <p>A combined score is computed by summing 5-star%, 4-star%, review count, and overall rating. Products are sorted in descending order of this score.</p>
        <span class="step-file">preeee.py (Part 5)</span>
        <span class="step-output">&#8594; sorted_data1.csv</span>
      </div>
    </div>
    <div class="step-connector"></div>

    <div class="workflow-step">
      <div class="step-num">7</div>
      <div class="step-content">
        <h4>Extract Customer Reviews</h4>
        <p>For each top-ranked product, the script navigates through up to 4 pages of customer reviews and extracts the review body text. Both positive and critical reviews are collected.</p>
        <span class="step-file">rev.py</span>
        <span class="step-output">&#8594; merix1.csv</span>
      </div>
    </div>
    <div class="step-connector"></div>

    <div class="workflow-step">
      <div class="step-num">8</div>
      <div class="step-content">
        <h4>NLP Preprocessing &amp; VADER Sentiment</h4>
        <p>Reviews are tokenized, stopwords removed, lemmatized, and POS-tagged. Adjectives and verbs are extracted. VADER sentiment analyzer computes polarity scores for each filtered word, then summed per product.</p>
        <span class="step-file">ori.py</span>
        <span class="step-output">&#8594; VADER scores per product</span>
      </div>
    </div>
    <div class="step-connector"></div>

    <div class="workflow-step">
      <div class="step-num">9</div>
      <div class="step-content">
        <h4>Emotion Classification (RoBERTa)</h4>
        <p>Each review is passed through the SamLowe/roberta-base-go_emotions transformer model. Reviews are classified into 7 emotion categories: Neutral, Approval, Love, Excitement, Curiosity, Admiration, and Caring. Counts are aggregated per product.</p>
        <span class="step-file">count.py</span>
        <span class="step-output">&#8594; Emotion distribution per product</span>
      </div>
    </div>
  </div>
</div>

<!-- ==================== DATA FLOW ==================== -->
<div class="section" id="dataflow">
  <h2>Data Flow Diagram</h2>
  <div class="legend">
    <div class="legend-item"><div class="legend-dot src"></div> Data Source</div>
    <div class="legend-item"><div class="legend-dot proc"></div> Processing</div>
    <div class="legend-item"><div class="legend-dot out"></div> Output / CSV</div>
    <div class="legend-item"><div class="legend-dot mll"></div> ML / NLP</div>
  </div>

  <div class="flow-diagram">
    <!-- Row 1: Scraping -->
    <div class="flow-row">
      <div class="flow-box source"><h5>User Search Query</h5><small>Product keyword</small></div>
      <div class="flow-arrow">&#10145;</div>
      <div class="flow-box process"><h5>Amazon Scraper</h5><small>main1amazon.py</small></div>
      <div class="flow-arrow">&#10145;</div>
      <div class="flow-box output"><h5>font67.csv</h5><small>Raw product data</small></div>
    </div>
    <div class="flow-arrow-down">&#11015;</div>

    <!-- Row 2: Filtering -->
    <div class="flow-row">
      <div class="flow-box source"><h5>User Keywords</h5><small>Filter criteria</small></div>
      <div class="flow-arrow">&#10145;</div>
      <div class="flow-box process"><h5>Keyword Filter</h5><small>preeee.py</small></div>
      <div class="flow-arrow">&#10145;</div>
      <div class="flow-box output"><h5>filtered_data8.csv</h5><small>Filtered products</small></div>
    </div>
    <div class="flow-arrow-down">&#11015;</div>

    <!-- Row 3: Clustering -->
    <div class="flow-row">
      <div class="flow-box ml"><h5>KMeans (k=5)</h5><small>Price clustering</small></div>
      <div class="flow-arrow">&#10145;</div>
      <div class="flow-box process"><h5>Price Range Filter</h5><small>Dominant cluster</small></div>
      <div class="flow-arrow">&#10145;</div>
      <div class="flow-box output"><h5>filtered_data9.csv</h5><small>Price-filtered</small></div>
    </div>
    <div class="flow-arrow-down">&#11015;</div>

    <!-- Row 4: Dedup + Rating -->
    <div class="flow-row">
      <div class="flow-box process"><h5>Deduplication</h5><small>Remove duplicates</small></div>
      <div class="flow-arrow">&#10145;</div>
      <div class="flow-box process"><h5>Rating Scraper</h5><small>5&#9733; &amp; 4&#9733; %</small></div>
      <div class="flow-arrow">&#10145;</div>
      <div class="flow-box process"><h5>Score &amp; Rank</h5><small>Combined score</small></div>
      <div class="flow-arrow">&#10145;</div>
      <div class="flow-box output"><h5>sorted_data1.csv</h5><small>Ranked products</small></div>
    </div>
    <div class="flow-arrow-down">&#11015;</div>

    <!-- Row 5: Reviews -->
    <div class="flow-row">
      <div class="flow-box process"><h5>Review Scraper</h5><small>rev.py &middot; 4 pages</small></div>
      <div class="flow-arrow">&#10145;</div>
      <div class="flow-box output"><h5>merix1.csv</h5><small>Raw reviews</small></div>
    </div>
    <div class="flow-arrow-down">&#11015;</div>

    <!-- Row 6: NLP -->
    <div class="flow-row">
      <div class="flow-box ml"><h5>NLTK Pipeline</h5><small>ori.py</small></div>
      <div class="flow-arrow">&#10145;</div>
      <div class="flow-box ml"><h5>VADER Sentiment</h5><small>Polarity scores</small></div>
      <div class="flow-arrow">&amp;</div>
      <div class="flow-box ml"><h5>RoBERTa Emotions</h5><small>count.py</small></div>
    </div>
    <div class="flow-arrow-down">&#11015;</div>

    <!-- Row 7: Output -->
    <div class="flow-row">
      <div class="flow-box output" style="border-color:#ff9900; min-width:350px;">
        <h5 style="color:#ff9900;">Final Analysis Output</h5>
        <small>Sentiment scores + Emotion distribution per product</small>
      </div>
    </div>
  </div>
</div>

<!-- ==================== MODULES ==================== -->
<div class="section" id="modules">
  <h2>Module Details</h2>

  <div class="module-detail">
    <h4>Module 1: Amazon Product Scraper</h4>
    <div class="filename">main1amazon.py</div>
    <p style="color:#99aabb;margin-bottom:12px;">Scrapes Amazon search results across 20 pages using Selenium WebDriver and BeautifulSoup.</p>
    <table>
      <tr><th>Function</th><th>Purpose</th><th>Details</th></tr>
      <tr><td><code>get_url1(search_term)</code></td><td>Build search URL</td><td>Constructs paginated Amazon search URL from user input</td></tr>
      <tr><td><code>extract_record(item)</code></td><td>Parse single result</td><td>Extracts description, price, rating, review count, product URL</td></tr>
      <tr><td><code>main(search_term)</code></td><td>Orchestrator</td><td>Iterates 20 pages, collects all records, writes to <code>font67.csv</code></td></tr>
    </table>
  </div>

  <div class="module-detail">
    <h4>Module 2: Data Processing &amp; Clustering</h4>
    <div class="filename">preeee.py</div>
    <p style="color:#99aabb;margin-bottom:12px;">Multi-stage processing: keyword filter, KMeans price clustering, deduplication, rating scraping, and final ranking.</p>
    <table>
      <tr><th>Stage</th><th>Input</th><th>Output</th><th>Technique</th></tr>
      <tr><td>Keyword Filter</td><td><code>font67.csv</code></td><td><code>filtered_data8.csv</code></td><td>Regex matching on Description</td></tr>
      <tr><td>Price Clustering</td><td><code>filtered_data8.csv</code></td><td><code>filtered_data9.csv</code></td><td>KMeans (k=5) on Price column</td></tr>
      <tr><td>Deduplication</td><td><code>filtered_data9.csv</code></td><td><code>filtered_data9_deduplicated.csv</code></td><td>Drop duplicate descriptions</td></tr>
      <tr><td>Rating Scraping</td><td>Product URLs</td><td><code>fileee3.csv</code></td><td>Selenium scraping of star %</td></tr>
      <tr><td>Ranking</td><td><code>fileee3.csv</code></td><td><code>sorted_data1.csv</code></td><td>Combined score = sum of metrics</td></tr>
    </table>
  </div>

  <div class="module-detail">
    <h4>Module 3: Review Scraper</h4>
    <div class="filename">rev.py</div>
    <p style="color:#99aabb;margin-bottom:12px;">Navigates to each product's review section and extracts review text from multiple pages.</p>
    <table>
      <tr><th>Function</th><th>Purpose</th><th>Details</th></tr>
      <tr><td><code>review(url)</code></td><td>Scrape positive reviews</td><td>Extracts reviews from 4 pages of the review section</td></tr>
      <tr><td><code>critical_review(url)</code></td><td>Scrape critical reviews</td><td>Filters by "critical" star filter, scrapes 3 pages</td></tr>
      <tr><td><code>write_reviews_to_csv()</code></td><td>Save to CSV</td><td>Writes all reviews for each product as a single row</td></tr>
    </table>
  </div>

  <div class="module-detail">
    <h4>Module 4: NLP Preprocessing &amp; VADER</h4>
    <div class="filename">ori.py</div>
    <p style="color:#99aabb;margin-bottom:12px;">Applies traditional NLP preprocessing and VADER sentiment analysis to extracted reviews.</p>
    <table>
      <tr><th>Step</th><th>Tool</th><th>Details</th></tr>
      <tr><td>Tokenization</td><td><code>TreebankWordTokenizer</code></td><td>Splits review text into individual tokens</td></tr>
      <tr><td>Stopword Removal</td><td><code>NLTK stopwords</code></td><td>Removes common English stopwords</td></tr>
      <tr><td>Lemmatization</td><td><code>WordNetLemmatizer</code></td><td>Reduces words to their base form</td></tr>
      <tr><td>POS Tagging</td><td><code>pos_tag</code></td><td>Tags parts of speech (JJ, VBD, etc.)</td></tr>
      <tr><td>Filtering</td><td>POS filter</td><td>Keeps only adjectives (JJ/JJR/JJS) and verbs (VBD/VBN)</td></tr>
      <tr><td>Sentiment</td><td><code>SentimentIntensityAnalyzer</code></td><td>VADER compound polarity score per word, summed per product</td></tr>
    </table>
  </div>

  <div class="module-detail">
    <h4>Module 5: Emotion Classification</h4>
    <div class="filename">count.py &amp; from transformers import pipeline.py</div>
    <p style="color:#99aabb;margin-bottom:12px;">Uses a pretrained RoBERTa transformer model fine-tuned on GoEmotions for multi-label emotion detection.</p>
    <table>
      <tr><th>Emotion</th><th>Description</th></tr>
      <tr><td style="color:#ff9900;">Neutral</td><td>No strong emotional signal in the review</td></tr>
      <tr><td style="color:#00c864;">Approval</td><td>Positive endorsement or agreement</td></tr>
      <tr><td style="color:#ff4466;">Love</td><td>Strong affection or enthusiasm</td></tr>
      <tr><td style="color:#ffcc00;">Excitement</td><td>Eagerness and anticipation</td></tr>
      <tr><td style="color:#00a8ff;">Curiosity</td><td>Inquisitive or exploratory tone</td></tr>
      <tr><td style="color:#c864ff;">Admiration</td><td>Respect and appreciation for quality</td></tr>
      <tr><td style="color:#66ddaa;">Caring</td><td>Concern or thoughtful consideration</td></tr>
    </table>
  </div>
</div>

<!-- ==================== ILLUSTRATIONS ==================== -->
<div class="section" id="illustrations">
  <h2>Visual Illustrations</h2>
  <div class="illust-grid">

    <!-- Illustration 1: Scraping -->
    <div class="illust-card">
      <div class="illust-img" style="background: linear-gradient(135deg, #1a1a2e, #16213e);">
        <svg class="illust-svg" viewBox="0 0 400 220">
          <!-- Browser window -->
          <rect x="40" y="20" width="320" height="180" rx="8" fill="#1e2040" stroke="#ff9900" stroke-width="2"/>
          <rect x="40" y="20" width="320" height="28" rx="8" fill="#2a2a50"/>
          <circle cx="58" cy="34" r="5" fill="#ff4466"/>
          <circle cx="74" cy="34" r="5" fill="#ffcc00"/>
          <circle cx="90" cy="34" r="5" fill="#00c864"/>
          <rect x="110" y="28" width="200" height="14" rx="7" fill="#12121f"/>
          <text x="145" y="39" fill="#778899" font-size="8" font-family="monospace">amazon.com/s?k=product</text>
          <!-- Product cards -->
          <rect x="55" y="58" width="140" height="55" rx="4" fill="#252560" stroke="#3a3a70"/>
          <rect x="62" y="64" width="50" height="40" rx="2" fill="#3a3a70"/>
          <rect x="118" y="66" width="70" height="6" rx="2" fill="#556677"/>
          <rect x="118" y="76" width="40" height="5" rx="2" fill="#ff9900"/>
          <text x="118" y="93" fill="#00c864" font-size="8">$24.99</text>
          <text x="118" y="103" fill="#ffcc00" font-size="7">&#9733;&#9733;&#9733;&#9733;&#9734;</text>

          <rect x="205" y="58" width="140" height="55" rx="4" fill="#252560" stroke="#3a3a70"/>
          <rect x="212" y="64" width="50" height="40" rx="2" fill="#3a3a70"/>
          <rect x="268" y="66" width="70" height="6" rx="2" fill="#556677"/>
          <rect x="268" y="76" width="40" height="5" rx="2" fill="#ff9900"/>
          <text x="268" y="93" fill="#00c864" font-size="8">$19.50</text>
          <text x="268" y="103" fill="#ffcc00" font-size="7">&#9733;&#9733;&#9733;&#9733;&#9733;</text>

          <rect x="55" y="120" width="140" height="55" rx="4" fill="#252560" stroke="#3a3a70"/>
          <rect x="62" y="126" width="50" height="40" rx="2" fill="#3a3a70"/>
          <rect x="118" y="128" width="70" height="6" rx="2" fill="#556677"/>
          <rect x="118" y="138" width="40" height="5" rx="2" fill="#ff9900"/>
          <text x="118" y="155" fill="#00c864" font-size="8">$31.00</text>

          <rect x="205" y="120" width="140" height="55" rx="4" fill="#252560" stroke="#3a3a70"/>
          <rect x="212" y="126" width="50" height="40" rx="2" fill="#3a3a70"/>
          <rect x="268" y="128" width="70" height="6" rx="2" fill="#556677"/>
          <rect x="268" y="138" width="40" height="5" rx="2" fill="#ff9900"/>
          <text x="268" y="155" fill="#00c864" font-size="8">$15.99</text>

          <!-- Arrow to CSV -->
          <text x="180" y="210" fill="#ff9900" font-size="10" text-anchor="middle" font-weight="bold">Scraping 20 pages &#8594; CSV</text>
        </svg>
      </div>
      <div class="illust-caption">
        <h5>Step 1: Amazon Product Scraping</h5>
        <p>Selenium automates Chrome to browse 20 pages of Amazon search results. BeautifulSoup parses each product card extracting key attributes.</p>
      </div>
    </div>

    <!-- Illustration 2: KMeans Clustering -->
    <div class="illust-card">
      <div class="illust-img" style="background: linear-gradient(135deg, #0a1628, #0f2040);">
        <svg class="illust-svg" viewBox="0 0 400 220">
          <!-- Axes -->
          <line x1="60" y1="190" x2="370" y2="190" stroke="#556677" stroke-width="1.5"/>
          <line x1="60" y1="190" x2="60" y2="20" stroke="#556677" stroke-width="1.5"/>
          <text x="200" y="212" fill="#778899" font-size="10" text-anchor="middle">Price ($)</text>
          <text x="20" y="110" fill="#778899" font-size="10" text-anchor="middle" transform="rotate(-90,20,110)">Count</text>

          <!-- Cluster 1 (low price) -->
          <rect x="75" y="155" width="20" height="35" rx="2" fill="#00a8ff" opacity="0.6"/>
          <rect x="100" y="130" width="20" height="60" rx="2" fill="#00a8ff" opacity="0.6"/>
          <rect x="125" y="145" width="20" height="45" rx="2" fill="#00a8ff" opacity="0.6"/>

          <!-- Cluster 2 (mid price - dominant) -->
          <rect x="160" y="90" width="20" height="100" rx="2" fill="#ff9900" opacity="0.8"/>
          <rect x="185" y="55" width="20" height="135" rx="2" fill="#ff9900" opacity="0.8"/>
          <rect x="210" y="70" width="20" height="120" rx="2" fill="#ff9900" opacity="0.8"/>
          <rect x="235" y="85" width="20" height="105" rx="2" fill="#ff9900" opacity="0.8"/>

          <!-- Cluster 3 (high price) -->
          <rect x="270" y="150" width="20" height="40" rx="2" fill="#c864ff" opacity="0.6"/>
          <rect x="295" y="160" width="20" height="30" rx="2" fill="#c864ff" opacity="0.6"/>
          <rect x="320" y="170" width="20" height="20" rx="2" fill="#c864ff" opacity="0.6"/>

          <!-- Labels -->
          <text x="108" y="180" fill="#00a8ff" font-size="8" text-anchor="middle">$5-15</text>
          <text x="198" y="45" fill="#ff9900" font-size="9" text-anchor="middle" font-weight="bold">Dominant</text>
          <text x="198" y="180" fill="#ff9900" font-size="8" text-anchor="middle">$15-35</text>
          <text x="295" y="180" fill="#c864ff" font-size="8" text-anchor="middle">$35-80</text>

          <!-- Highlight box -->
          <rect x="152" y="40" width="108" height="155" rx="4" fill="none" stroke="#ff9900" stroke-width="2" stroke-dasharray="5,3"/>
        </svg>
      </div>
      <div class="illust-caption">
        <h5>Step 3: KMeans Price Clustering</h5>
        <p>KMeans (k=5) clusters products by price. The cluster with the most products (dominant price range) is selected, filtering out outliers.</p>
      </div>
    </div>

    <!-- Illustration 3: Ranking -->
    <div class="illust-card">
      <div class="illust-img" style="background: linear-gradient(135deg, #1a0a2e, #2a1040);">
        <svg class="illust-svg" viewBox="0 0 400 220">
          <!-- Ranking table -->
          <rect x="30" y="15" width="340" height="195" rx="8" fill="#1e2040" stroke="#3a3a70"/>
          <!-- Header -->
          <rect x="30" y="15" width="340" height="30" rx="8" fill="#2a2a50"/>
          <text x="50" y="35" fill="#ff9900" font-size="9" font-weight="bold">Rank</text>
          <text x="90" y="35" fill="#ff9900" font-size="9" font-weight="bold">Product</text>
          <text x="200" y="35" fill="#ff9900" font-size="9" font-weight="bold">5&#9733;</text>
          <text x="235" y="35" fill="#ff9900" font-size="9" font-weight="bold">4&#9733;</text>
          <text x="270" y="35" fill="#ff9900" font-size="9" font-weight="bold">Reviews</text>
          <text x="320" y="35" fill="#ff9900" font-size="9" font-weight="bold">Score</text>

          <!-- Row 1 (highlighted) -->
          <rect x="35" y="50" width="330" height="28" rx="4" fill="rgba(255,153,0,0.1)"/>
          <text x="50" y="68" fill="#ffcc00" font-size="11" font-weight="bold">#1</text>
          <rect x="90" y="56" width="100" height="6" rx="2" fill="#556677"/>
          <text x="207" y="68" fill="#00c864" font-size="9">72%</text>
          <text x="242" y="68" fill="#00c864" font-size="9">18%</text>
          <text x="278" y="68" fill="#00a8ff" font-size="9">4,521</text>
          <text x="325" y="68" fill="#ff9900" font-size="10" font-weight="bold">4615</text>

          <!-- Row 2 -->
          <text x="50" y="98" fill="#99aabb" font-size="11">#2</text>
          <rect x="90" y="88" width="90" height="6" rx="2" fill="#444466"/>
          <text x="207" y="98" fill="#99aabb" font-size="9">68%</text>
          <text x="242" y="98" fill="#99aabb" font-size="9">20%</text>
          <text x="278" y="98" fill="#99aabb" font-size="9">3,890</text>
          <text x="325" y="98" fill="#99aabb" font-size="10">3982</text>

          <!-- Row 3 -->
          <text x="50" y="128" fill="#99aabb" font-size="11">#3</text>
          <rect x="90" y="118" width="95" height="6" rx="2" fill="#444466"/>
          <text x="207" y="128" fill="#99aabb" font-size="9">65%</text>
          <text x="242" y="128" fill="#99aabb" font-size="9">22%</text>
          <text x="278" y="128" fill="#99aabb" font-size="9">2,100</text>
          <text x="325" y="128" fill="#99aabb" font-size="10">2191</text>

          <!-- Row 4 -->
          <text x="50" y="158" fill="#667788" font-size="11">#4</text>
          <rect x="90" y="148" width="80" height="6" rx="2" fill="#333355"/>
          <text x="207" y="158" fill="#667788" font-size="9">60%</text>
          <text x="242" y="158" fill="#667788" font-size="9">15%</text>
          <text x="278" y="158" fill="#667788" font-size="9">1,500</text>
          <text x="325" y="158" fill="#667788" font-size="10">1579</text>

          <!-- Row 5 -->
          <text x="50" y="188" fill="#556677" font-size="11">#5</text>
          <rect x="90" y="178" width="70" height="6" rx="2" fill="#333355"/>
          <text x="207" y="188" fill="#556677" font-size="9">55%</text>
          <text x="242" y="188" fill="#556677" font-size="9">12%</text>
          <text x="278" y="188" fill="#556677" font-size="9">890</text>
          <text x="325" y="188" fill="#556677" font-size="10">961</text>

          <!-- Score formula -->
          <text x="200" y="218" fill="#778899" font-size="8" text-anchor="middle">Score = 5&#9733;% + 4&#9733;% + ReviewCount + Rating</text>
        </svg>
      </div>
      <div class="illust-caption">
        <h5>Step 6: Combined Score Ranking</h5>
        <p>Products are ranked by a combined score computed from 5-star %, 4-star %, review count, and overall rating. Top products advance to review analysis.</p>
      </div>
    </div>

    <!-- Illustration 4: NLP Pipeline -->
    <div class="illust-card">
      <div class="illust-img" style="background: linear-gradient(135deg, #0a1a0a, #0a2a1a);">
        <svg class="illust-svg" viewBox="0 0 400 220">
          <!-- NLP Pipeline steps -->
          <text x="200" y="20" fill="#00c864" font-size="11" text-anchor="middle" font-weight="bold">NLP Preprocessing Pipeline</text>

          <!-- Raw text -->
          <rect x="20" y="35" width="360" height="24" rx="4" fill="#1e2040" stroke="#556677"/>
          <text x="30" y="51" fill="#99aabb" font-size="8">"This product is absolutely amazing and works perfectly!"</text>

          <text x="200" y="72" fill="#556677" font-size="12" text-anchor="middle">&#8595; Tokenize</text>

          <!-- Tokens -->
          <rect x="20" y="78" width="360" height="24" rx="4" fill="#1e2040" stroke="#00a8ff"/>
          <text x="30" y="94" fill="#00a8ff" font-size="8">["This", "product", "is", "absolutely", "amazing", "and", "works", "perfectly"]</text>

          <text x="200" y="115" fill="#556677" font-size="12" text-anchor="middle">&#8595; Remove Stopwords + Lemmatize</text>

          <!-- Filtered -->
          <rect x="60" y="121" width="280" height="24" rx="4" fill="#1e2040" stroke="#c864ff"/>
          <text x="75" y="137" fill="#c864ff" font-size="8">["product", "absolutely", "amazing", "work", "perfectly"]</text>

          <text x="200" y="158" fill="#556677" font-size="12" text-anchor="middle">&#8595; POS Tag + Filter (JJ, VB)</text>

          <!-- POS filtered -->
          <rect x="100" y="164" width="200" height="24" rx="4" fill="#1e2040" stroke="#ff9900"/>
          <text x="115" y="180" fill="#ff9900" font-size="9">["amazing"/JJ, "worked"/VBD]</text>

          <text x="200" y="201" fill="#556677" font-size="12" text-anchor="middle">&#8595; VADER Sentiment</text>

          <!-- Score -->
          <rect x="130" y="205" width="140" height="20" rx="10" fill="rgba(0,200,100,0.2)" stroke="#00c864"/>
          <text x="200" y="219" fill="#00c864" font-size="10" text-anchor="middle" font-weight="bold">Score: +0.85 (Positive)</text>
        </svg>
      </div>
      <div class="illust-caption">
        <h5>Step 8: NLTK + VADER Sentiment</h5>
        <p>Reviews go through tokenization, stopword removal, lemmatization, and POS filtering. VADER computes polarity scores on adjectives and verbs.</p>
      </div>
    </div>

    <!-- Illustration 5: Emotion Classification -->
    <div class="illust-card">
      <div class="illust-img" style="background: linear-gradient(135deg, #1a0a2a, #2a1040);">
        <svg class="illust-svg" viewBox="0 0 400 220">
          <text x="200" y="22" fill="#c864ff" font-size="11" text-anchor="middle" font-weight="bold">RoBERTa Emotion Classification</text>

          <!-- Model box -->
          <rect x="100" y="32" width="200" height="36" rx="8" fill="#2a1050" stroke="#c864ff" stroke-width="2"/>
          <text x="200" y="50" fill="#c864ff" font-size="9" text-anchor="middle">SamLowe/roberta-base-go_emotions</text>
          <text x="200" y="62" fill="#778899" font-size="7" text-anchor="middle">HuggingFace Transformer</text>

          <!-- Bars -->
          <rect x="60" y="80" width="200" height="14" rx="3" fill="#ff9900" opacity="0.8"/>
          <text x="56" y="91" fill="#99aabb" font-size="8" text-anchor="end">Neutral</text>
          <text x="265" y="91" fill="#ff9900" font-size="8">42</text>

          <rect x="60" y="100" width="160" height="14" rx="3" fill="#00c864" opacity="0.8"/>
          <text x="56" y="111" fill="#99aabb" font-size="8" text-anchor="end">Approval</text>
          <text x="225" y="111" fill="#00c864" font-size="8">35</text>

          <rect x="60" y="120" width="120" height="14" rx="3" fill="#ff4466" opacity="0.8"/>
          <text x="56" y="131" fill="#99aabb" font-size="8" text-anchor="end">Love</text>
          <text x="185" y="131" fill="#ff4466" font-size="8">24</text>

          <rect x="60" y="140" width="100" height="14" rx="3" fill="#ffcc00" opacity="0.8"/>
          <text x="56" y="151" fill="#99aabb" font-size="8" text-anchor="end">Excitement</text>
          <text x="165" y="151" fill="#ffcc00" font-size="8">18</text>

          <rect x="60" y="160" width="80" height="14" rx="3" fill="#00a8ff" opacity="0.8"/>
          <text x="56" y="171" fill="#99aabb" font-size="8" text-anchor="end">Curiosity</text>
          <text x="145" y="171" fill="#00a8ff" font-size="8">12</text>

          <rect x="60" y="180" width="70" height="14" rx="3" fill="#c864ff" opacity="0.8"/>
          <text x="56" y="191" fill="#99aabb" font-size="8" text-anchor="end">Admiration</text>
          <text x="135" y="191" fill="#c864ff" font-size="8">10</text>

          <rect x="60" y="200" width="45" height="14" rx="3" fill="#66ddaa" opacity="0.8"/>
          <text x="56" y="211" fill="#99aabb" font-size="8" text-anchor="end">Caring</text>
          <text x="110" y="211" fill="#66ddaa" font-size="8">6</text>
        </svg>
      </div>
      <div class="illust-caption">
        <h5>Step 9: Emotion Distribution</h5>
        <p>The RoBERTa GoEmotions model classifies each review into one of 7 tracked emotions. Counts are aggregated per product for emotional profiling.</p>
      </div>
    </div>

    <!-- Illustration 6: End-to-End -->
    <div class="illust-card">
      <div class="illust-img" style="background: linear-gradient(135deg, #1a1a2e, #16213e);">
        <svg class="illust-svg" viewBox="0 0 400 220">
          <text x="200" y="18" fill="#ff9900" font-size="11" text-anchor="middle" font-weight="bold">End-to-End Pipeline Summary</text>

          <!-- Pipeline nodes -->
          <circle cx="50" cy="60" r="22" fill="#2a1a00" stroke="#ff9900" stroke-width="2"/>
          <text x="50" y="56" fill="#ff9900" font-size="7" text-anchor="middle">Search</text>
          <text x="50" y="67" fill="#ff9900" font-size="7" text-anchor="middle">&amp; Scrape</text>

          <line x1="72" y1="60" x2="108" y2="60" stroke="#556677" stroke-width="1.5" marker-end="url(#arrow)"/>

          <circle cx="130" cy="60" r="22" fill="#001a2a" stroke="#00a8ff" stroke-width="2"/>
          <text x="130" y="56" fill="#00a8ff" font-size="7" text-anchor="middle">Filter</text>
          <text x="130" y="67" fill="#00a8ff" font-size="7" text-anchor="middle">&amp; Clean</text>

          <line x1="152" y1="60" x2="188" y2="60" stroke="#556677" stroke-width="1.5"/>

          <circle cx="210" cy="60" r="22" fill="#1a002a" stroke="#c864ff" stroke-width="2"/>
          <text x="210" y="56" fill="#c864ff" font-size="7" text-anchor="middle">KMeans</text>
          <text x="210" y="67" fill="#c864ff" font-size="7" text-anchor="middle">Cluster</text>

          <line x1="232" y1="60" x2="268" y2="60" stroke="#556677" stroke-width="1.5"/>

          <circle cx="290" cy="60" r="22" fill="#001a0a" stroke="#00c864" stroke-width="2"/>
          <text x="290" y="56" fill="#00c864" font-size="7" text-anchor="middle">Rank</text>
          <text x="290" y="67" fill="#00c864" font-size="7" text-anchor="middle">Products</text>

          <line x1="312" y1="60" x2="348" y2="60" stroke="#556677" stroke-width="1.5"/>

          <circle cx="370" cy="60" r="22" fill="#2a1a00" stroke="#ff9900" stroke-width="2"/>
          <text x="370" y="56" fill="#ff9900" font-size="7" text-anchor="middle">Scrape</text>
          <text x="370" y="67" fill="#ff9900" font-size="7" text-anchor="middle">Reviews</text>

          <!-- Down arrow -->
          <line x1="370" y1="82" x2="370" y2="110" stroke="#556677" stroke-width="1.5"/>

          <!-- Second row -->
          <circle cx="370" cy="130" r="22" fill="#001a2a" stroke="#00a8ff" stroke-width="2"/>
          <text x="370" y="126" fill="#00a8ff" font-size="7" text-anchor="middle">NLP</text>
          <text x="370" y="137" fill="#00a8ff" font-size="7" text-anchor="middle">Preprocess</text>

          <line x1="348" y1="130" x2="312" y2="130" stroke="#556677" stroke-width="1.5"/>

          <circle cx="290" cy="130" r="22" fill="#1a002a" stroke="#c864ff" stroke-width="2"/>
          <text x="290" y="126" fill="#c864ff" font-size="7" text-anchor="middle">VADER</text>
          <text x="290" y="137" fill="#c864ff" font-size="7" text-anchor="middle">Sentiment</text>

          <line x1="268" y1="130" x2="232" y2="130" stroke="#556677" stroke-width="1.5"/>

          <circle cx="210" cy="130" r="22" fill="#001a0a" stroke="#00c864" stroke-width="2"/>
          <text x="210" y="126" fill="#00c864" font-size="7" text-anchor="middle">RoBERTa</text>
          <text x="210" y="137" fill="#00c864" font-size="7" text-anchor="middle">Emotions</text>

          <line x1="188" y1="130" x2="152" y2="130" stroke="#556677" stroke-width="1.5"/>

          <!-- Final output -->
          <rect x="30" y="115" width="100" height="34" rx="8" fill="rgba(255,153,0,0.15)" stroke="#ff9900" stroke-width="2"/>
          <text x="80" y="130" fill="#ff9900" font-size="8" text-anchor="middle" font-weight="bold">Final Analysis</text>
          <text x="80" y="142" fill="#778899" font-size="7" text-anchor="middle">Per-product insight</text>

          <!-- File count summary -->
          <rect x="40" y="170" width="320" height="40" rx="8" fill="#1e2040" stroke="#2a2a50"/>
          <text x="55" y="186" fill="#ff9900" font-size="8">6 Python Files</text>
          <text x="55" y="200" fill="#778899" font-size="7">main1amazon.py &middot; preeee.py &middot; rev.py &middot; ori.py &middot; count.py &middot; pipeline.py</text>
          <text x="320" y="186" fill="#00a8ff" font-size="8" text-anchor="end">7 CSV Outputs</text>
          <text x="320" y="200" fill="#778899" font-size="7" text-anchor="end">font67 &middot; filtered 8/9 &middot; dedup &middot; fileee3 &middot; sorted &middot; merix1</text>
        </svg>
      </div>
      <div class="illust-caption">
        <h5>Complete Pipeline Overview</h5>
        <p>6 Python scripts work in sequence: scrape products, filter/cluster, rank, extract reviews, and perform dual-layer sentiment + emotion analysis.</p>
      </div>
    </div>
  </div>
</div>

<!-- ==================== TECH STACK ==================== -->
<div class="section" id="techstack">
  <h2>Technology Stack</h2>

  <h3>Web Scraping</h3>
  <div class="tech-grid">
    <div class="tech-card">
      <div class="tech-icon">&#127760;</div>
      <h5>Selenium WebDriver</h5>
      <p>Automates Chrome browser to navigate Amazon pages, handle dynamic content, and click elements.</p>
    </div>
    <div class="tech-card">
      <div class="tech-icon">&#129518;</div>
      <h5>BeautifulSoup4</h5>
      <p>Parses HTML page source to extract structured data from Amazon product listings and reviews.</p>
    </div>
    <div class="tech-card">
      <div class="tech-icon">&#128196;</div>
      <h5>CSV Module</h5>
      <p>Python's built-in CSV reader/writer for persisting scraped data between pipeline stages.</p>
    </div>
  </div>

  <h3>Data Processing &amp; ML</h3>
  <div class="tech-grid">
    <div class="tech-card">
      <div class="tech-icon">&#128202;</div>
      <h5>Pandas</h5>
      <p>DataFrame operations for filtering, cleaning, deduplication, and statistical computations.</p>
    </div>
    <div class="tech-card">
      <div class="tech-icon">&#128736;</div>
      <h5>Scikit-learn</h5>
      <p>KMeans clustering algorithm to segment products into price ranges and identify dominant clusters.</p>
    </div>
    <div class="tech-card">
      <div class="tech-icon">&#128200;</div>
      <h5>Matplotlib</h5>
      <p>Generates histograms showing price distribution across KMeans clusters.</p>
    </div>
  </div>

  <h3>Natural Language Processing</h3>
  <div class="tech-grid">
    <div class="tech-card">
      <div class="tech-icon">&#128218;</div>
      <h5>NLTK</h5>
      <p>Tokenization, stopword removal, lemmatization, POS tagging, and VADER sentiment analysis.</p>
    </div>
    <div class="tech-card">
      <div class="tech-icon">&#129302;</div>
      <h5>HuggingFace Transformers</h5>
      <p>Pipeline API for loading and running pretrained transformer models with minimal code.</p>
    </div>
    <div class="tech-card">
      <div class="tech-icon">&#129504;</div>
      <h5>RoBERTa (GoEmotions)</h5>
      <p>Fine-tuned RoBERTa model that classifies text into 27 emotion categories (7 tracked here).</p>
    </div>
  </div>

  <h3>Key Algorithms</h3>
  <div class="tech-grid">
    <div class="tech-card">
      <div class="tech-icon">&#128307;</div>
      <h5>KMeans Clustering</h5>
      <p>Unsupervised ML algorithm grouping products into k=5 price clusters to find the optimal price range.</p>
    </div>
    <div class="tech-card">
      <div class="tech-icon">&#128161;</div>
      <h5>VADER Sentiment</h5>
      <p>Rule-based sentiment analyzer tuned for social media. Outputs compound, positive, negative, and neutral scores.</p>
    </div>
    <div class="tech-card">
      <div class="tech-icon">&#127919;</div>
      <h5>Combined Scoring</h5>
      <p>Custom ranking formula: Score = 5&#9733;% + 4&#9733;% + ReviewCount + OverallRating for product comparison.</p>
    </div>
  </div>
</div>

<script>
function showTab(tabId) {
  document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
  document.getElementById(tabId).classList.add('active');
  event.target.classList.add('active');
}
function toggleStep(id) {
  var el = document.getElementById(id);
  el.classList.toggle('open');
}
</script>

</body>
</html>
